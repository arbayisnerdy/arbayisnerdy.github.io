!function(k){var s=jQuery.fn.revolution,b=s.is_mobile(),x=(s.is_android(),{alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.4.8",version:"2.2.2"});function t(a){return null==a?-1:jQuery.isNumeric(a)?a:1<a.split(":").length?60*parseInt(a.split(":")[0],0)+parseInt(a.split(":")[1],0):a}jQuery.extend(!0,s,{preLoadAudio:function(c,a){if("stop"===s.compare_version(x).check){return !1}c.find(".tp-audiolayer").each(function(){var d=jQuery(this),f={};0===d.find("audio").length&&(f.src=null!=d.data("videomp4")?d.data("videomp4"):"",f.pre=d.data("videopreload")||"",void 0===d.attr("id")&&d.attr("audio-layer-"+Math.round(199999*Math.random())),f.id=d.attr("id"),f.status="prepared",f.start=jQuery.now(),f.waittime=1000*d.data("videopreloadwait")||5000,"auto"!=f.pre&&"canplaythrough"!=f.pre&&"canplay"!=f.pre&&"progress"!=f.pre||(void 0===a.audioqueue&&(a.audioqueue=[]),a.audioqueue.push(f),s.manageVideoLayer(d,a)))})},preLoadAudioDone:function(a,c,d){c.audioqueue&&0<c.audioqueue.length&&jQuery.each(c.audioqueue,function(f,g){a.data("videomp4")!==g.src||g.pre!==d&&"auto"!==g.pre||(g.status="loaded")})},resetVideo:function(i,f,c,l){var o=i.data();switch(o.videotype){case"youtube":o.player;try{if("on"==o.forcerewind){var h=-1==(m=t(i.data("videostartat"))),n=1===o.bgvideo||0<i.find(".tp-videoposter").length;null!=o.player&&(m=-1==m?0:m,o.player.seekTo(m),o.player.pauseVideo())}}catch(i){}0==i.find(".tp-videoposter").length&&1!==o.bgvideo&&!0!==c&&punchgs.TweenLite.to(i.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"vimeo":var a=i.data("vimeoplayer");try{if("on"==o.forcerewind){var m=t(o.videostartat);h=-1==m,n=1===o.bgvideo||0<i.find(".tp-videoposter").length;(0!==(m=-1==m?0:m)&&!h||n)&&a.pause().then(function(){a.setCurrentTime(m)})}}catch(i){}0==i.find(".tp-videoposter").length&&1!==o.bgvideo&&!0!==c&&punchgs.TweenLite.to(i.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"html5":if(b&&1==o.disablevideoonmobile){return !1}var d="html5"==o.audio?"audio":"video",g=i.find(d),p=g[0];if(punchgs.TweenLite.to(g,0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"on"==o.forcerewind&&!i.hasClass("videoisplaying")){try{m=t(o.videostartat);p.currentTime=-1==m?0:m}catch(i){}}("mute"==o.volume||s.lastToggleState(i.videomutetoggledby)||!0===f.globalmute)&&(p.muted=!0)}},isVideoMuted:function(c,g){var a=!1,d=c.data();switch(d.videotype){case"youtube":try{a=d.player.isMuted()}catch(c){}break;case"vimeo":try{"mute"==d.volume&&(a=!0)}catch(c){}break;case"html5":var f="html5"==d.audio?"audio":"video";c.find(f)[0].muted&&(a=!0)}return a},muteVideo:function(c,g){var a=c.data();switch(a.videotype){case"youtube":try{a.player.mute()}catch(c){}break;case"vimeo":try{var d=c.data("vimeoplayer");c.data("volume","mute"),d.setVolume(0)}catch(c){}break;case"html5":var f="html5"==a.audio?"audio":"video";c.find(f)[0].muted=!0}},unMuteVideo:function(c,g){if(!0!==g.globalmute){var a=c.data();switch(a.videotype){case"youtube":try{a.player.unMute()}catch(c){}break;case"vimeo":try{var d=c.data("vimeoplayer");c.data("volume","1"),d.setVolume(1)}catch(c){}break;case"html5":var f="html5"==a.audio?"audio":"video";c.find(f)[0].muted=!1}}},stopVideo:function(d,i){var a=d.data();switch(i.leaveViewPortBasedStop||(i.lastplayedvideos=[]),i.leaveViewPortBasedStop=!1,a.videotype){case"youtube":try{var f=a.player;if(2===f.getPlayerState()||5===f.getPlayerState()){return}f.pauseVideo(),a.youtubepausecalled=!0,setTimeout(function(){a.youtubepausecalled=!1},80)}catch(d){console.log("Issue at YouTube Video Pause:"),console.log(d)}break;case"vimeo":try{d.data("vimeoplayer").pause(),a.vimeopausecalled=!0,setTimeout(function(){a.vimeopausecalled=!1},80)}catch(d){console.log("Issue at Vimeo Video Pause:"),console.log(d)}break;case"html5":var h="html5"==a.audio?"audio":"video",c=d.find(h),g=c[0];null!=c&&null!=g&&g.pause()}},playVideo:function(c,g){clearTimeout(c.data("videoplaywait"));var f=c.data();switch(f.videotype){case"youtube":if(0==c.find("iframe").length){c.append(c.data("videomarkup")),v(c,g,!0)}else{if(null!=f.player.playVideo){var a=t(c.data("videostartat")),l=f.player.getCurrentTime();1==c.data("nextslideatend-triggered")&&(l=-1,c.data("nextslideatend-triggered",0)),-1!=a&&l<a&&f.player.seekTo(a),!0!==f.youtubepausecalled&&f.player.playVideo()}else{c.data("videoplaywait",setTimeout(function(){!0!==f.youtubepausecalled&&s.playVideo(c,g)},50))}}break;case"vimeo":if(0==c.find("iframe").length){c.removeData("vimeoplayer"),c.append(c.data("videomarkup")),v(c,g,!0)}else{if(c.hasClass("rs-apiready")){var d,i=c.find("iframe").attr("id");c.data("vimeoplayer")?d=c.data("vimeoplayer"):(d=new Vimeo.Player(i),c.data("vimeoplayer",d)),d.getPaused()?setTimeout(function(){var p=t(c.data("videostartat")),o=c.data("currenttime");o||(o=0),1==c.data("nextslideatend-triggered")&&(o=-1,c.data("nextslideatend-triggered",0)),-1!=p&&o<p&&d.setCurrentTime(p),d.play()},510):c.data("videoplaywait",setTimeout(function(){!0!==f.vimeopausecalled&&s.playVideo(c,g)},50))}else{c.data("videoplaywait",setTimeout(function(){!0!==f.vimeopausecalled&&s.playVideo(c,g)},50))}}break;case"html5":var m="html5"==f.audio?"audio":"video",h=c.find(m),n=h[0];if(1!=h.parent().data("metaloaded")){e(n,"loadedmetadata",function(o){s.resetVideo(o,g),n.play();var p=t(o.data("videostartat")),q=n.currentTime;1==o.data("nextslideatend-triggered")&&(q=-1,o.data("nextslideatend-triggered",0)),-1!=p&&q<p&&(n.currentTime=p)}(c))}else{n.play();a=t(c.data("videostartat")),l=n.currentTime;1==c.data("nextslideatend-triggered")&&(l=-1,c.data("nextslideatend-triggered",0)),-1!=a&&l<a&&(n.currentTime=a)}}},isVideoPlaying:function(a,c){var d=!1;return null!=c.playingvideos&&jQuery.each(c.playingvideos,function(f,g){a.attr("id")==g.attr("id")&&(d=!0)}),d},removeMediaFromList:function(a,c){z(a,c)},prepareCoveredVideo:function(d,i){if((!i.hasClass("tp-caption")||i.hasClass("coverscreenvideo"))&&(void 0===i.data("vimeoid")||void 0!==i.data("vimeoplayerloaded"))){var a={};a.ifr=i.find("iframe, video"),a.asp=i.data("aspectratio"),a.wa=a.asp.split(":")[0],a.ha=a.asp.split(":")[1],a.vd=a.wa/a.ha;var f="carousel"!==d.sliderType?d.conw:i.closest(".tp-revslider-slidesli").width();if(0===f||0===d.conh){return s.setSize(d),clearTimeout(a.ifr.data("resizelistener")),void a.ifr.data("resizelistener",setTimeout(function(){s.prepareCoveredVideo(d,i)},100))}var h=f/d.conh,c=h/a.vd*100,g=a.vd/h*100;h>a.vd?punchgs.TweenLite.set(a.ifr,{height:c+"%",width:"100%",top:-(c-100)/2+"%",left:"0px",position:"absolute"}):punchgs.TweenLite.set(a.ifr,{width:g+"%",height:"100%",left:-(g-100)/2+"%",top:"0px",position:"absolute"}),a.ifr.hasClass("resizelistener")||(a.ifr.addClass("resizelistener"),jQuery(window).resize(function(){s.prepareCoveredVideo(d,i),clearTimeout(a.ifr.data("resizelistener")),a.ifr.data("resizelistener",setTimeout(function(){s.prepareCoveredVideo(d,i)},90))}))}},checkVideoApis:function(d,i,a){location.protocol;if((null!=d.data("ytid")||0<d.find("iframe").length&&0<d.find("iframe").attr("src").toLowerCase().indexOf("youtube"))&&(i.youtubeapineeded=!0),(null!=d.data("ytid")||0<d.find("iframe").length&&0<d.find("iframe").attr("src").toLowerCase().indexOf("youtube"))&&0==a.addedyt){i.youtubestarttime=jQuery.now(),a.addedyt=1;var f=document.createElement("script");f.src="https://www.youtube.com/iframe_api";var h=document.getElementsByTagName("script")[0],c=!0;jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(c=!1)}),c&&h.parentNode.insertBefore(f,h)}if((null!=d.data("vimeoid")||0<d.find("iframe").length&&0<d.find("iframe").attr("src").toLowerCase().indexOf("vimeo"))&&(i.vimeoapineeded=!0),(null!=d.data("vimeoid")||0<d.find("iframe").length&&0<d.find("iframe").attr("src").toLowerCase().indexOf("vimeo"))&&0==a.addedvim){i.vimeostarttime=jQuery.now(),a.addedvim=1;var g=document.createElement("script");h=document.getElementsByTagName("script")[0],c=!0;g.src="https://player.vimeo.com/api/player.js",jQuery("head").find("*").each(function(){"https://player.vimeo.com/api/player.js"==jQuery(this).attr("src")&&(c=!1)}),c&&h.parentNode.insertBefore(g,h)}return a},manageVideoLayer:function(q,aa,m,af){if("stop"===s.compare_version(x).check){return !1}var r=q.data(),l=r.videoattributes,V=r.ytid,ad=r.vimeoid,L="auto"===r.videopreload||"canplay"===r.videopreload||"canplaythrough"===r.videopreload||"progress"===r.videopreload?"auto":r.videopreload,ae=r.videomp4,ai=r.videowebm,ab=r.videoogv,c=r.allowfullscreenvideo,a=r.videocontrols,T="http",o="loop"==r.videoloop?"loop":"loopandnoslidestop"==r.videoloop?"loop":"",h=null!=ae||null!=ai?"html5":null!=V&&1<String(V).length?"youtube":null!=ad&&1<String(ad).length?"vimeo":"none",n="html5"==r.audio?"audio":"video",p="html5"==h&&0==q.find(n).length?"html5":"youtube"==h&&0==q.find("iframe").length?"youtube":"vimeo"==h&&0==q.find("iframe").length?"vimeo":"none";switch(o=!0===r.nextslideatend?"":o,r.videotype=h,p){case"html5":"controls"!=a&&(a="");n="video";"html5"==r.audio&&(n="audio",q.addClass("tp-audio-html5"));var ah="";"video"===n&&(s.is_mobile()||s.isSafari11())&&("on"===r.autoplay||"true"===r.autoplay||!0===r.autoplay?ah="muted playsinline autoplay":1!=r.videoinline&&"true"!==r.videoinline&&1!==r.videoinline||(ah+=" playsinline"));var f="<"+n+" "+ah+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+o+' preload="'+L+'">';"auto"==L&&(aa.mediapreload=!0),"video"===n?(null!=ai&&"firefox"==s.get_browser().toLowerCase()&&(f=f+'<source src="'+ai+'" type="video/webm" />'),null!=ae&&(f=f+'<source src="'+ae+'" type="video/mp4" />'),null!=ab&&(f=f+'<source src="'+ab+'" type="video/ogg" />')):"audio"===n&&(null!=ae&&(f=f+'<source src="'+ae+'" type="audio/mpeg" />'),null!=ab&&(f=f+'<source src="'+ab+'" type="audio/ogg" />')),f=f+"</"+n+">";var ag="";"true"!==c&&!0!==c||(ag='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'),"controls"==a&&(f=f+'<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+ag+"</div>"),q.data("videomarkup",f),q.append(f),(b&&1==q.data("disablevideoonmobile")||s.isIE(8))&&q.find(n).remove(),q.find(n).each(function(E){var F,D=jQuery(this);D.parent().hasClass("html5vid")||D.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>'),1!=D.parent().data("metaloaded")&&e(this,"loadedmetadata",(w(F=q,aa),void s.resetVideo(F,aa)))});break;case"youtube":T="https","none"==a&&-1==(l=l.replace("controls=1","controls=0")).toLowerCase().indexOf("controls")&&(l+="&controls=0"),(!0===r.videoinline||"true"===r.videoinline||1===r.videoinline||q.hasClass("rs-background-video-layer")||"on"===q.data("autoplay"))&&(l+="&playsinline=1");var C=t(q.data("videostartat")),g=t(q.data("videoendat"));-1!=C&&(l=l+"&start="+C),-1!=g&&(l=l+"&end="+g);var d=l.split("origin="+T+"://"),P="";1<d.length?(P=d[0]+"origin="+T+"://",self.location.href.match(/www/gi)&&!d[1].match(/www/gi)&&(P+="www."),P+=d[1]):P=l;var i="true"===c||!0===c?"allowfullscreen":"";q.data("videomarkup",'<iframe type="text/html" src="'+T+"://www.youtube-nocookie.com/embed/"+V+"?"+P+'" '+i+' width="100%" height="100%" style="opacity:0;width:100%;height:100%"></iframe>');break;case"vimeo":T="https",q.data("videomarkup",'<iframe src="'+T+"://player.vimeo.com/video/"+ad+"?"+l+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="opacity:0;visibility:hidden;width:100%;height:100%"></iframe>')}var ac=b&&"on"==q.data("noposteronmobile");if(null!=r.videoposter&&2<r.videoposter.length&&!ac){0==q.find(".tp-videoposter").length&&q.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+r.videoposter+'); background-size:cover;background-position:center center;"></div>'),0==q.find("iframe").length&&q.find(".tp-videoposter").click(function(){if(s.playVideo(q,aa),b){if(1==q.data("disablevideoonmobile")){return !1}punchgs.TweenLite.to(q.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(q.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}})}else{if(b&&1==q.data("disablevideoonmobile")){return !1}0!=q.find("iframe").length||"youtube"!=h&&"vimeo"!=h||(q.removeData("vimeoplayer"),q.append(q.data("videomarkup")),v(q,aa,!1))}"none"!=q.data("dottedoverlay")&&null!=q.data("dottedoverlay")&&1!=q.find(".tp-dottedoverlay").length&&q.append('<div class="tp-dottedoverlay '+q.data("dottedoverlay")+'"></div>'),q.addClass("HasListener"),1==q.data("bgvideo")&&(q.data("ytid")?punchgs.TweenLite.set(q.find("iframe"),{opacity:0}):punchgs.TweenLite.set(q.find("video, iframe"),{autoAlpha:0}))}});var e=function(c,d,a){c.addEventListener?c.addEventListener(d,a,{capture:!1,passive:!0}):c.attachEvent(d,a,{capture:!1,passive:!0})},j=function(c,f,a){var d={};return d.video=c,d.videotype=f,d.settings=a,d},A=function(c,d){if(1==d.data("bgvideo")||1==d.data("forcecover")){1===d.data("forcecover")&&d.removeClass("fullscreenvideo").addClass("coverscreenvideo");var a=d.data("aspectratio");void 0===a&&a.split(":").length<=1&&d.data("aspectratio","16:9"),s.prepareCoveredVideo(c,d)}},v=function(m,i,P){var f=m.data(),p=m.find("iframe"),c="iframe"+Math.round(100000*Math.random()+1),q=f.videoloop,h="loopandnoslidestop"!=q;if(q="loop"==q||"loopandnoslidestop"==q,A(i,m),p.attr("id",c),P&&m.data("startvideonow",!0),1!==m.data("videolistenerexist")){switch(f.videotype){case"youtube":var n=new YT.Player(c,{events:{onStateChange:function(D){var F=m.closest(".tp-simpleresponsive"),C=(f.videorate,m.data("videostart"),u());if(D.data==YT.PlayerState.PLAYING){punchgs.TweenLite.to(m.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(m.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"mute"==m.data("volume")||s.lastToggleState(m.data("videomutetoggledby"))||!0===i.globalmute?n.mute():(n.unMute(),n.setVolume(parseInt(m.data("volume"),0)||75)),i.videoplaying=!0,B(m,i),h?i.c.trigger("stoptimer"):i.videoplaying=!1,i.c.trigger("revolution.slide.onvideoplay",j(n,"youtube",m.data())),s.toggleState(f.videotoggledby)}else{if(0==D.data&&q){var E=t(m.data("videostartat"));-1!=E&&n.seekTo(E),n.playVideo(),s.toggleState(f.videotoggledby)}C||0!=D.data&&2!=D.data||!("on"==m.data("showcoveronpause")&&0<m.find(".tp-videoposter").length||1===m.data("bgvideo")&&0<m.find(".rs-fullvideo-cover").length)||(1===m.data("bgvideo")?punchgs.TweenLite.to(m.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(m.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(m.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),-1!=D.data&&3!=D.data&&(i.videoplaying=!1,i.tonpause=!1,z(m,i),F.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",j(n,"youtube",m.data())),null!=i.currentLayerVideoIsPlaying&&i.currentLayerVideoIsPlaying.attr("id")!=m.attr("id")||s.unToggleState(f.videotoggledby)),0==D.data&&1==m.data("nextslideatend")?(y(),m.data("nextslideatend-triggered",1),i.c.revnext(),z(m,i)):(z(m,i),i.videoplaying=!1,F.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",j(n,"youtube",m.data())),null!=i.currentLayerVideoIsPlaying&&i.currentLayerVideoIsPlaying.attr("id")!=m.attr("id")||s.unToggleState(f.videotoggledby))}},onReady:function(H){var E,F=s.is_mobile(),I=m.hasClass("tp-videolayer");if(F||s.isSafari11()){var D=I&&"off"!==m.data("autoplay");if(m.hasClass("rs-background-video-layer")||D){F&&I||(E=!0,n.setVolume(0),m.data("volume","mute"),n.mute(),clearTimeout(m.data("mobilevideotimr")),m.data("mobilevideotimr",setTimeout(function(){n.playVideo()},500)))}}E||"mute"!=m.data("volume")||(n.setVolume(0),n.mute());var G=f.videorate;m.data("videostart");if(m.addClass("rs-apiready"),null!=G&&H.target.setPlaybackRate(parseFloat(G)),m.find(".tp-videoposter").unbind("click"),m.find(".tp-videoposter").click(function(){b||n.playVideo()}),m.data("startvideonow")){f.player.playVideo();var C=t(m.data("videostartat"));-1!=C&&f.player.seekTo(C)}m.data("videolistenerexist",1)}}});m.data("player",n);break;case"vimeo":for(var d,r=p.attr("src"),l={},N=r,o=/([^&=]+)=([^&]*)/g;d=o.exec(N);){l[decodeURIComponent(d[1])]=decodeURIComponent(d[2])}r=(r=null!=l.player_id?r.replace(l.player_id,c):r+"&player_id="+c).replace(/&api=0|&api=1/g,"");var g=s.is_mobile(),R=m.data("autoplay"),O=(m.data("volume"),g||s.isSafari11());m.hasClass("rs-background-video-layer");(R="on"===R||"true"===R||!0===R)&&O&&(r+="?autoplay=1&autopause=0&muted=1&background=1&playsinline=1",m.data({vimeoplaysinline:!0,volume:"mute"})),p.attr("src",r);n=m.find("iframe")[0],jQuery("#"+c);if(m.data("vimeoplayer")?a=m.data("vimeoplayer"):(a=new Vimeo.Player(c),m.data("vimeoplayer",a)),a.on("loaded",function(C){var D={};a.getVideoWidth().then(function(E){D.width=E,void 0!==D.width&&void 0!==D.height&&(m.data("aspectratio",D.width+":"+D.height),m.data("vimeoplayerloaded",!0),A(i,m))}),a.getVideoHeight().then(function(E){D.height=E,void 0!==D.width&&void 0!==D.height&&(m.data("aspectratio",D.width+":"+D.height),m.data("vimeoplayerloaded",!0),A(i,m))})}),m.addClass("rs-apiready"),a.on("play",function(C){m.data("nextslidecalled",0),punchgs.TweenLite.to(m.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(m.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),i.c.trigger("revolution.slide.onvideoplay",j(a,"vimeo",m.data())),i.videoplaying=!0,B(m,i),h?i.c.trigger("stoptimer"):i.videoplaying=!1,m.data("vimeoplaysinline")||("mute"==m.data("volume")||s.lastToggleState(m.data("videomutetoggledby"))||!0===i.globalmute?a.setVolume(0):a.setVolume(parseInt(m.data("volume"),0)/100||0.75),s.toggleState(f.videotoggledby))}),a.on("timeupdate",function(D){var E=t(m.data("videoendat"));if(m.data("currenttime",D.seconds),0!=E&&Math.abs(E-D.seconds)<1&&E>D.seconds&&1!=m.data("nextslidecalled")){if(q){a.play();var C=t(m.data("videostartat"));-1!=C&&a.setCurrentTime(C)}else{1==m.data("nextslideatend")&&(m.data("nextslideatend-triggered",1),m.data("nextslidecalled",1),i.c.revnext()),a.pause()}}}),a.on("ended",function(C){z(m,i),i.videoplaying=!1,i.c.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",j(a,"vimeo",m.data())),1==m.data("nextslideatend")&&(m.data("nextslideatend-triggered",1),i.c.revnext()),null!=i.currentLayerVideoIsPlaying&&i.currentLayerVideoIsPlaying.attr("id")!=m.attr("id")||s.unToggleState(f.videotoggledby)}),a.on("pause",function(C){("on"==m.data("showcoveronpause")&&0<m.find(".tp-videoposter").length||1===m.data("bgvideo")&&0<m.find(".rs-fullvideo-cover").length)&&(1===m.data("bgvideo")?punchgs.TweenLite.to(m.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(m.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(m.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),i.videoplaying=!1,i.tonpause=!1,z(m,i),i.c.trigger("starttimer"),i.c.trigger("revolution.slide.onvideostop",j(a,"vimeo",m.data())),null!=i.currentLayerVideoIsPlaying&&i.currentLayerVideoIsPlaying.attr("id")!=m.attr("id")||s.unToggleState(f.videotoggledby)}),m.find(".tp-videoposter").unbind("click"),m.find(".tp-videoposter").click(function(){if(!b){return a.play(),!1}}),m.data("startvideonow")){a.play(),-1!=(Q=t(m.data("videostartat")))&&a.setCurrentTime(Q)}m.data("videolistenerexist",1)}}else{var Q=t(m.data("videostartat"));switch(f.videotype){case"youtube":P&&(f.player.playVideo(),-1!=Q&&f.player.seekTo());break;case"vimeo":var a;if(P){(a=m.data("vimeoplayer")).play(),-1!=Q&&a.seekTo(Q)}}}},y=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},u=function(){try{if(void 0!==window.fullScreen){return window.fullScreen}var a=5;return jQuery.browser.webkit&&/Apple Computer/.test(navigator.vendor)&&(a=42),screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<a}catch(a){}},w=function(f,p,q){if(b&&1==f.data("disablevideoonmobile")){return !1}var d=f.data(),l="html5"==d.audio?"audio":"video",c=f.find(l),h=c[0],J=c.parent(),K=d.videoloop,i="loopandnoslidestop"!=K;if(K="loop"==K||"loopandnoslidestop"==K,J.data("metaloaded",1),1!=f.data("bgvideo")||"none"!==d.videoloop&&!1!==d.videoloop||(i=!1),null==c.attr("control")&&(0!=f.find(".tp-video-play-button").length||b||f.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),f.find("video, .tp-poster, .tp-video-play-button").click(function(){f.hasClass("videoisplaying")?h.pause():h.play()})),1==f.data("forcecover")||f.hasClass("fullscreenvideo")||1==f.data("bgvideo")){if(1==f.data("forcecover")||1==f.data("bgvideo")){J.addClass("fullcoveredvideo");var m=f.data("aspectratio");void 0!==m&&1!=m.split(":").length||f.data("aspectratio","16:9"),s.prepareCoveredVideo(p,f)}else{J.addClass("fullscreenvideo")}}var g=f.find(".tp-vid-play-pause")[0],n=f.find(".tp-vid-mute")[0],o=f.find(".tp-vid-full-screen")[0],a=f.find(".tp-seek-bar")[0],r=f.find(".tp-volume-bar")[0];null!=g&&e(g,"click",function(){1==h.paused?h.play():h.pause()}),null!=n&&e(n,"click",function(){0==h.muted?(h.muted=!0,n.innerHTML="Unmute"):(h.muted=!1,n.innerHTML="Mute")}),null!=o&&o&&e(o,"click",function(){h.requestFullscreen?h.requestFullscreen():h.mozRequestFullScreen?h.mozRequestFullScreen():h.webkitRequestFullscreen&&h.webkitRequestFullscreen()}),null!=a&&(e(a,"change",function(){var C=h.duration*(a.value/100);h.currentTime=C}),e(a,"mousedown",function(){f.addClass("seekbardragged"),h.pause()}),e(a,"mouseup",function(){f.removeClass("seekbardragged"),h.play()})),e(h,"canplaythrough",function(){s.preLoadAudioDone(f,p,"canplaythrough")}),e(h,"canplay",function(){s.preLoadAudioDone(f,p,"canplay")}),e(h,"progress",function(){s.preLoadAudioDone(f,p,"progress")}),e(h,"timeupdate",function(){var E=100/h.duration*h.currentTime,C=t(f.data("videoendat")),D=h.currentTime;if(null!=a&&(a.value=E),0!=C&&-1!=C&&Math.abs(C-D)<=0.3&&D<C&&1!=f.data("nextslidecalled")){if(K){h.play();var F=t(f.data("videostartat"));-1!=F&&(h.currentTime=F)}else{1==f.data("nextslideatend")&&(f.data("nextslideatend-triggered",1),f.data("nextslidecalled",1),p.just_called_nextslide_at_htmltimer=!0,p.c.revnext(),setTimeout(function(){p.just_called_nextslide_at_htmltimer=!1},1000)),h.pause()}}}),null!=r&&e(r,"change",function(){h.volume=r.value}),e(h,"play",function(){f.data("nextslidecalled",0);var E=f.data("volume");E=null!=E&&"mute"!=E?parseFloat(E)/100:E,s.is_mobile()||s.isSafari11()||(!0===p.globalmute?h.muted=!0:h.muted=!1,1<E&&(E/=100),"mute"==E?h.muted=!0:null!=E&&(h.volume=E)),f.addClass("videoisplaying");var C="html5"==d.audio?"audio":"video";B(f,p),i&&"audio"!=C?(p.videoplaying=!0,p.c.trigger("stoptimer"),p.c.trigger("revolution.slide.onvideoplay",j(h,"html5",d))):(p.videoplaying=!1,"audio"!=C&&p.c.trigger("starttimer"),p.c.trigger("revolution.slide.onvideostop",j(h,"html5",d))),punchgs.TweenLite.to(f.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(f.find(C),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var D=f.find(".tp-vid-play-pause")[0],F=f.find(".tp-vid-mute")[0];null!=D&&(D.innerHTML="Pause"),null!=F&&h.muted&&(F.innerHTML="Unmute"),s.toggleState(d.videotoggledby)}),e(h,"pause",function(D){var E="html5"==d.audio?"audio":"video";!u()&&0<f.find(".tp-videoposter").length&&"on"==f.data("showcoveronpause")&&!f.hasClass("seekbardragged")&&(punchgs.TweenLite.to(f.find(".tp-videoposter"),0.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(f.find(E),0.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),f.removeClass("videoisplaying"),p.videoplaying=!1,z(f,p),"audio"!=E&&p.c.trigger("starttimer"),p.c.trigger("revolution.slide.onvideostop",j(h,"html5",f.data()));var C=f.find(".tp-vid-play-pause")[0];null!=C&&(C.innerHTML="Play"),null!=p.currentLayerVideoIsPlaying&&p.currentLayerVideoIsPlaying.attr("id")!=f.attr("id")||s.unToggleState(d.videotoggledby)}),e(h,"ended",function(){y(),z(f,p),p.videoplaying=!1,z(f,p),"audio"!=l&&p.c.trigger("starttimer"),p.c.trigger("revolution.slide.onvideostop",j(h,"html5",f.data())),!0===f.data("nextslideatend")&&0<h.currentTime&&(1==!p.just_called_nextslide_at_htmltimer&&(f.data("nextslideatend-triggered",1),p.c.revnext(),p.just_called_nextslide_at_htmltimer=!0),setTimeout(function(){p.just_called_nextslide_at_htmltimer=!1},1500)),f.removeClass("videoisplaying")})},B=function(c,a){null==a.playingvideos&&(a.playingvideos=new Array),c.data("stopallvideos")&&null!=a.playingvideos&&0<a.playingvideos.length&&(a.lastplayedvideos=jQuery.extend(!0,[],a.playingvideos),jQuery.each(a.playingvideos,function(d,f){s.stopVideo(f,a)})),a.playingvideos.push(c),a.currentLayerVideoIsPlaying=c},z=function(a,c){null!=c.playingvideos&&0<=jQuery.inArray(a,c.playingvideos)&&c.playingvideos.splice(jQuery.inArray(a,c.playingvideos),1)}}(jQuery);