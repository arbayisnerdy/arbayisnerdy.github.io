!function(a){var b=jQuery.fn.revolution,c={alias:"KenBurns Min JS",name:"revolution.extensions.kenburn.min.js",min_core:"5.4",version:"1.3.1"};jQuery.extend(!0,b,{stopKenBurn:function(d){if("stop"===b.compare_version(c).check){return !1}void 0!=d.data("kbtl")&&d.data("kbtl").pause()},startKenBurn:function(e,g,p){if("stop"===b.compare_version(c).check){return !1}var t=e.data(),v=e.find(".defaultimg"),w=v.data("lazyload")||v.data("src"),M=(t.owidth,t.oheight,"carousel"===g.sliderType?g.carousel.slide_width:g.ul.width()),d=g.ul.height();if(e.data("kbtl")&&e.data("kbtl").kill(),p=p||0,0==e.find(".tp-kbimg").length){var f=v.data("mediafilter");f=void 0===f?"":f,e.append('<div class="tp-kbimg-wrap '+f+'" style="z-index:2;width:100%;height:100%;top:0px;left:0px;position:absolute;"><img class="tp-kbimg" src="'+w+'" style="position:absolute;" width="'+t.owidth+'" height="'+t.oheight+'"></div>'),e.data("kenburn",e.find(".tp-kbimg"))}var h=function(i,x,y,z,A,B,C){var D=i*y,E=x*y,F=Math.abs(z-D),G=Math.abs(A-E),l=new Object;return l.l=(0-B)*F,l.r=l.l+D,l.t=(0-C)*G,l.b=l.t+E,l.h=B,l.v=C,l},j=function(i,l,x,y,z){var A=i.bgposition.split(" ")||"center center",B="center"==A[0]?"50%":"left"==A[0]||"left"==A[1]?"0%":"right"==A[0]||"right"==A[1]?"100%":A[0],C="center"==A[1]?"50%":"top"==A[0]||"top"==A[1]?"0%":"bottom"==A[0]||"bottom"==A[1]?"100%":A[1];B=parseInt(B,0)/100||0,C=parseInt(C,0)/100||0;var D=new Object;return D.start=h(z.start.width,z.start.height,z.start.scale,l,x,B,C),D.end=h(z.start.width,z.start.height,z.end.scale,l,x,B,C),D},k=function(i,y,E){var G=E.scalestart/100,I=E.scaleend/100,K=void 0!=E.offsetstart?E.offsetstart.split(" ")||[0,0]:[0,0],l=void 0!=E.offsetend?E.offsetend.split(" ")||[0,0]:[0,0];E.bgposition="center center"==E.bgposition?"50% 50%":E.bgposition;var x=new Object,z=i*G,A=(E.owidth,E.oheight,i*I);E.owidth,E.oheight;if(x.start=new Object,x.starto=new Object,x.end=new Object,x.endo=new Object,x.start.width=i,x.start.height=x.start.width/E.owidth*E.oheight,x.start.height<y){var B=y/x.start.height;x.start.height=y,x.start.width=x.start.width*B}x.start.transformOrigin=E.bgposition,x.start.scale=G,x.end.scale=I,E.rotatestart=0===E.rotatestart?0.01:E.rotatestart,x.start.rotation=E.rotatestart+"deg",x.end.rotation=E.rotateend+"deg";var C=j(E,i,y,K,x);K[0]=parseFloat(K[0])+C.start.l,l[0]=parseFloat(l[0])+C.end.l,K[1]=parseFloat(K[1])+C.start.t,l[1]=parseFloat(l[1])+C.end.t;var D=C.start.r-C.start.l,F=C.start.b-C.start.t,H=C.end.r-C.end.l,J=C.end.b-C.end.t;return K[0]=K[0]>0?0:D+K[0]<i?i-D:K[0],l[0]=l[0]>0?0:H+l[0]<i?i-H:l[0],K[1]=K[1]>0?0:F+K[1]<y?y-F:K[1],l[1]=l[1]>0?0:J+l[1]<y?y-J:l[1],x.starto.x=K[0]+"px",x.starto.y=K[1]+"px",x.endo.x=l[0]+"px",x.endo.y=l[1]+"px",x.end.ease=x.endo.ease=E.ease,x.end.force3D=x.endo.force3D=!0,x};void 0!=e.data("kbtl")&&(e.data("kbtl").kill(),e.removeData("kbtl"));var m=e.data("kenburn"),n=m.parent(),o=k(M,d,t),q=new punchgs.TimelineLite;if(q.pause(),o.start.transformOrigin="0% 0%",o.starto.transformOrigin="0% 0%",q.add(punchgs.TweenLite.fromTo(m,t.duration/1000,o.start,o.end),0),q.add(punchgs.TweenLite.fromTo(n,t.duration/1000,o.starto,o.endo),0),void 0!==t.blurstart&&void 0!==t.blurend&&(0!==t.blurstart||0!==t.blurend)){var r={a:t.blurstart},s={a:t.blurend,ease:o.endo.ease},u=new punchgs.TweenLite(r,t.duration/1000,s);u.eventCallback("onUpdate",function(i){punchgs.TweenLite.set(i,{filter:"blur("+r.a+"px)",webkitFilter:"blur("+r.a+"px)"})},[n]),q.add(u,0)}q.progress(p),q.play(),e.data("kbtl",q)}})}(jQuery);