(function(j){function k(M,t,b,r,e){function N(){f.unbind("webkitTransitionEnd transitionend otransitionend oTransitionEnd");t&&l(t,b,r,e);e.startOrder=[];e.newOrder=[];e.origSort=[];e.checkSort=[];v.removeStyle(e.prefix+"filter, filter, "+e.prefix+"transform, transform, opacity, display").css(e.clean).removeAttr("data-checksum");window.atob||v.css({display:"none",opacity:"0"});f.removeStyle(e.prefix+"transition, transition, "+e.prefix+"perspective, perspective, "+e.prefix+"perspective-origin, perspective-origin, "+(e.resizeContainer?"height":""));"list"==e.layoutMode?(g.css({display:e.targetDisplayList,opacity:"1"}),e.origDisplay=e.targetDisplayList):(g.css({display:e.targetDisplayGrid,opacity:"1"}),e.origDisplay=e.targetDisplayGrid);e.origLayout=e.layoutMode;setTimeout(function(){v.removeStyle(e.prefix+"transition, transition");e.mixing=!1;if("function"==typeof e.onMixEnd){var o=e.onMixEnd.call(this,e);e=o?o:e}})}clearInterval(e.failsafe);e.mixing=!0;e.filter=M;if("function"==typeof e.onMixStart){var O=e.onMixStart.call(this,e);e=O?O:e}for(var a=e.transitionSpeed,O=0;2>O;O++){var P=0==O?P=e.prefix:"";e.transition[P+"transition"]="all "+a+"ms linear";e.transition[P+"transform"]=P+"translate3d(0,0,0)";e.perspective[P+"perspective"]=e.perspectiveDistance+"px";e.perspective[P+"perspective-origin"]=e.perspectiveOrigin}var w=e.targetSelector,v=r.find(w);v.each(function(){this.data={}});var f=v.parent();f.css(e.perspective);e.easingFallback="ease-in-out";"smooth"==e.easing&&(e.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)");"snap"==e.easing&&(e.easing="cubic-bezier(0.77, 0, 0.175, 1)");"windback"==e.easing&&(e.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",e.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)");"windup"==e.easing&&(e.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",e.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)");O="list"==e.layoutMode&&null!=e.listEffects?e.listEffects:e.effects;Array.prototype.indexOf&&(e.fade=-1<O.indexOf("fade")?"0":"",e.scale=-1<O.indexOf("scale")?"scale(.01)":"",e.rotateZ=-1<O.indexOf("rotateZ")?"rotate(180deg)":"",e.rotateY=-1<O.indexOf("rotateY")?"rotateY(90deg)":"",e.rotateX=-1<O.indexOf("rotateX")?"rotateX(90deg)":"",e.blur=-1<O.indexOf("blur")?"blur(8px)":"",e.grayscale=-1<O.indexOf("grayscale")?"grayscale(100%)":"");var g=j(),q=j(),s=[],p=!1;"string"===typeof M?s=n(M):(p=!0,j.each(M,function(o){s[o]=n(this)}));"or"==e.filterLogic?(""==s[0]&&s.shift(),1>s.length?q=q.add(r.find(w+":visible")):v.each(function(){var o=j(this);if(p){var x=0;j.each(s,function(y){this.length?o.is("."+this.join(", ."))&&x++:0<x&&x++});x==s.length?g=g.add(o):q=q.add(o)}else{o.is("."+s.join(", ."))?g=g.add(o):q=q.add(o)}})):(g=g.add(f.find(w+"."+s.join("."))),q=q.add(f.find(w+":not(."+s.join(".")+"):visible")));M=g.length;var u=j(),h=j(),c=j();q.each(function(){var o=j(this);"none"!=o.css("display")&&(u=u.add(o),c=c.add(o))});if(g.filter(":visible").length==M&&!u.length&&!t){if(e.origLayout==e.layoutMode){return N(),!1}if(1==g.length){return"list"==e.layoutMode?(r.addClass(e.listClass),r.removeClass(e.gridClass),c.css("display",e.targetDisplayList)):(r.addClass(e.gridClass),r.removeClass(e.listClass),c.css("display",e.targetDisplayGrid)),N(),!1}}e.origHeight=f.height();if(g.length){r.removeClass(e.failClass);g.each(function(){var o=j(this);"none"==o.css("display")?h=h.add(o):c=c.add(o)});if(e.origLayout!=e.layoutMode&&!1==e.animateGridList){return"list"==e.layoutMode?(r.addClass(e.listClass),r.removeClass(e.gridClass),c.css("display",e.targetDisplayList)):(r.addClass(e.gridClass),r.removeClass(e.listClass),c.css("display",e.targetDisplayGrid)),N(),!1}if(!window.atob){return N(),!1}v.css(e.clean);c.each(function(){this.data.origPos=j(this).offset()});"list"==e.layoutMode?(r.addClass(e.listClass),r.removeClass(e.gridClass),h.css("display",e.targetDisplayList)):(r.addClass(e.gridClass),r.removeClass(e.listClass),h.css("display",e.targetDisplayGrid));h.each(function(){this.data.showInterPos=j(this).offset()});u.each(function(){this.data.hideInterPos=j(this).offset()});c.each(function(){this.data.preInterPos=j(this).offset()});"list"==e.layoutMode?c.css("display",e.targetDisplayList):c.css("display",e.targetDisplayGrid);t&&l(t,b,r,e);if(t&&d(e.origSort,e.checkSort)){return N(),!1}u.hide();h.each(function(o){this.data.finalPos=j(this).offset()});c.each(function(){this.data.finalPrePos=j(this).offset()});e.newHeight=f.height();t&&l("reset",null,r,e);h.hide();c.css("display",e.origDisplay);"block"==e.origDisplay?(r.addClass(e.listClass),h.css("display",e.targetDisplayList)):(r.removeClass(e.listClass),h.css("display",e.targetDisplayGrid));e.resizeContainer&&f.css("height",e.origHeight+"px");M={};for(O=0;2>O;O++){P=0==O?P=e.prefix:"",M[P+"transform"]=e.scale+" "+e.rotateX+" "+e.rotateY+" "+e.rotateZ,M[P+"filter"]=e.blur+" "+e.grayscale}h.css(M);c.each(function(){var o=this.data,x=j(this);x.hasClass("mix_tohide")?(o.preTX=o.origPos.left-o.hideInterPos.left,o.preTY=o.origPos.top-o.hideInterPos.top):(o.preTX=o.origPos.left-o.preInterPos.left,o.preTY=o.origPos.top-o.preInterPos.top);for(var y={},A=0;2>A;A++){var z=0==A?z=e.prefix:"";y[z+"transform"]="translate("+o.preTX+"px,"+o.preTY+"px)"}x.css(y)});"list"==e.layoutMode?(r.addClass(e.listClass),r.removeClass(e.gridClass)):(r.addClass(e.gridClass),r.removeClass(e.listClass));setTimeout(function(){if(e.resizeContainer){for(var o={},x=0;2>x;x++){var y=0==x?y=e.prefix:"";o[y+"transition"]="all "+a+"ms ease-in-out";o.height=e.newHeight+"px"}f.css(o)}u.css("opacity",e.fade);h.css("opacity",1);h.each(function(){var z=this.data;z.tX=z.finalPos.left-z.showInterPos.left;z.tY=z.finalPos.top-z.showInterPos.top;for(var A={},B=0;2>B;B++){var C=0==B?C=e.prefix:"";A[C+"transition-property"]=C+"transform, "+C+"filter, opacity";A[C+"transition-timing-function"]=e.easing+", linear, linear";A[C+"transition-duration"]=a+"ms";A[C+"transition-delay"]="0";A[C+"transform"]="translate("+z.tX+"px,"+z.tY+"px)";A[C+"filter"]="none"}j(this).css("-webkit-transition","all "+a+"ms "+e.easingFallback).css(A)});c.each(function(){var z=this.data;z.tX=0!=z.finalPrePos.left?z.finalPrePos.left-z.preInterPos.left:0;z.tY=0!=z.finalPrePos.left?z.finalPrePos.top-z.preInterPos.top:0;for(var A={},B=0;2>B;B++){var C=0==B?C=e.prefix:"";A[C+"transition"]="all "+a+"ms "+e.easing;A[C+"transform"]="translate("+z.tX+"px,"+z.tY+"px)"}j(this).css("-webkit-transition","all "+a+"ms "+e.easingFallback).css(A)});o={};for(x=0;2>x;x++){y=0==x?y=e.prefix:"",o[y+"transition"]="all "+a+"ms "+e.easing+", "+y+"filter "+a+"ms linear, opacity "+a+"ms linear",o[y+"transform"]=e.scale+" "+e.rotateX+" "+e.rotateY+" "+e.rotateZ,o[y+"filter"]=e.blur+" "+e.grayscale,o.opacity=e.fade}u.css(o);f.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(z){if(-1<z.originalEvent.propertyName.indexOf("transform")||-1<z.originalEvent.propertyName.indexOf("opacity")){-1<w.indexOf(".")?j(z.target).hasClass(w.replace(".",""))&&N():j(z.target).is(w)&&N()}})},10);e.failsafe=setTimeout(function(){e.mixing&&N()},a+400)}else{e.resizeContainer&&f.css("height",e.origHeight+"px");if(!window.atob){return N(),!1}u=q;setTimeout(function(){f.css(e.perspective);if(e.resizeContainer){for(var o={},y=0;2>y;y++){var x=0==y?x=e.prefix:"";o[x+"transition"]="height "+a+"ms ease-in-out";o.height=e.minHeight+"px"}f.css(o)}v.css(e.transition);if(q.length){o={};for(y=0;2>y;y++){x=0==y?x=e.prefix:"",o[x+"transform"]=e.scale+" "+e.rotateX+" "+e.rotateY+" "+e.rotateZ,o[x+"filter"]=e.blur+" "+e.grayscale,o.opacity=e.fade}u.css(o);f.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(z){if(-1<z.originalEvent.propertyName.indexOf("transform")||-1<z.originalEvent.propertyName.indexOf("opacity")){r.addClass(e.failClass),N()}})}else{e.mixing=!1}},10)}}function l(e,c,r,b){function a(o,p){var q=isNaN(1*o.attr(e))?o.attr(e).toLowerCase():1*o.attr(e),t=isNaN(1*p.attr(e))?p.attr(e).toLowerCase():1*p.attr(e);return q<t?-1:q>t?1:0}function f(o){"asc"==c?h.prepend(o).prepend(" "):h.append(o).append(" ")}function g(o){o=o.slice();for(var p=o.length,q=p;q--;){var v=parseInt(Math.random()*p),u=o[q];o[q]=o[v];o[v]=u}return o}r.find(b.targetSelector).wrapAll('<div class="mix_sorter"/>');var h=r.find(".mix_sorter");b.origSort.length||h.find(b.targetSelector+":visible").each(function(){j(this).wrap("<s/>");b.origSort.push(j(this).parent().html().replace(/\s+/g,""));j(this).unwrap()});h.empty();if("reset"==e){j.each(b.startOrder,function(){h.append(this).append(" ")})}else{if("default"==e){j.each(b.origOrder,function(){f(this)})}else{if("random"==e){b.newOrder.length||(b.newOrder=g(b.startOrder)),j.each(b.newOrder,function(){h.append(this).append(" ")})}else{if("custom"==e){j.each(c,function(){f(this)})}else{if("undefined"===typeof b.origOrder[0].attr(e)){return console.log("No such attribute found. Terminating"),!1}b.newOrder.length||(j.each(b.origOrder,function(){b.newOrder.push(j(this))}),b.newOrder.sort(a));j.each(b.newOrder,function(){f(this)})}}}}b.checkSort=[];h.find(b.targetSelector+":visible").each(function(o){var p=j(this);0==o&&p.attr("data-checksum","1");p.wrap("<s/>");b.checkSort.push(p.parent().html().replace(/\s+/g,""));p.unwrap()});r.find(b.targetSelector).unwrap()}function i(c){for(var a=["Webkit","Moz","O","ms"],b=0;b<a.length;b++){if(a[b]+"Transition" in c.style){return a[b]}}return"transition" in c.style?"":!1}function d(c,a){if(c.length!=a.length){return !1}for(var b=0;b<a.length;b++){if(c[b].compare&&!c[b].compare(a[b])||c[b]!==a[b]){return !1}}return !0}function n(b){b=b.replace(/\s{2,}/g," ");var a=b.split(" ");j.each(a,function(c){"all"==this&&(a[c]="mix_all")});""==a[0]&&a.shift();return a}var m={init:function(a){return this.each(function(){var e=window.navigator.appVersion.match(/Chrome\/(\d+)\./),e=e?parseInt(e[1],10):!1,h=function(o){o=document.getElementById(o);var s=o.parentElement,t=document.createElement("div"),u=document.createDocumentFragment();s.insertBefore(t,o);u.appendChild(o);s.replaceChild(o,t)};(e&&31==e||32==e)&&h(this.id);var c={targetSelector:".mix",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade","scale"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:600,showOnLoad:"all",sortOnLoad:!1,multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onWarLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};a&&j.extend(c,a);this.config=c;j.support.touch="ontouchend" in document;j.support.touch&&(c.isTouch=!0,c.resetDelay=350);c.container=j(this);var b=c.container;c.prefix=i(b[0]);c.prefix=c.prefix?"-"+c.prefix.toLowerCase()+"-":"";b.find(c.targetSelector).each(function(){c.origOrder.push(j(this))});if(c.sortOnLoad){var f;j.isArray(c.sortOnLoad)?(e=c.sortOnLoad[0],f=c.sortOnLoad[1],j(c.sortSelector+"[data-sort="+c.sortOnLoad[0]+"][data-order="+c.sortOnLoad[1]+"]").addClass("active")):(j(c.sortSelector+"[data-sort="+c.sortOnLoad+"]").addClass("active"),e=c.sortOnLoad,c.sortOnLoad="desc");l(e,f,b,c)}for(f=0;2>f;f++){e=0==f?e=c.prefix:"",c.transition[e+"transition"]="all "+c.transitionSpeed+"ms ease-in-out",c.perspective[e+"perspective"]=c.perspectiveDistance+"px",c.perspective[e+"perspective-origin"]=c.perspectiveOrigin}for(f=0;2>f;f++){e=0==f?e=c.prefix:"",c.clean[e+"transition"]="none"}"list"==c.layoutMode?(b.addClass(c.listClass),c.origDisplay=c.targetDisplayList):(b.addClass(c.gridClass),c.origDisplay=c.targetDisplayGrid);c.origLayout=c.layoutMode;f=c.showOnLoad.split(" ");j.each(f,function(){j(c.filterSelector+'[data-filter="'+this+'"]').addClass("active")});b.find(c.targetSelector).addClass("mix_all");"all"==f[0]&&(f[0]="mix_all",c.showOnLoad="mix_all");var g=j();j.each(f,function(){g=g.add(j("."+this))});g.each(function(){var o=j(this);"list"==c.layoutMode?o.css("display",c.targetDisplayList):o.css("display",c.targetDisplayGrid);o.css(c.transition)});setTimeout(function(){c.mixing=!0;g.css("opacity","1");setTimeout(function(){"list"==c.layoutMode?g.removeStyle(c.prefix+"transition, transition").css({display:c.targetDisplayList,opacity:1}):g.removeStyle(c.prefix+"transition, transition").css({display:c.targetDisplayGrid,opacity:1});c.mixing=!1;if("function"==typeof c.onWarLoad){var o=c.onWarLoad.call(this,c);c=o?o:c}},c.transitionSpeed)},10);c.filter=c.showOnLoad;j(c.sortSelector).bind(c.buttonEvent,function(){if(!c.mixing){var o=j(this),r=o.attr("data-sort"),s=o.attr("data-order");if(!o.hasClass("active")){j(c.sortSelector).removeClass("active"),o.addClass("active")}else{if("random"!=r){return !1}}b.find(c.targetSelector).each(function(){c.startOrder.push(j(this))});k(c.filter,r,s,b,c)}});j(c.filterSelector).bind(c.buttonEvent,function(){if(!c.mixing){var o=j(this);if(!1==c.multiFilter){j(c.filterSelector).removeClass("active"),o.addClass("active"),c.filter=o.attr("data-filter"),j(c.filterSelector+'[data-filter="'+c.filter+'"]').addClass("active")}else{var q=o.attr("data-filter");o.hasClass("active")?(o.removeClass("active"),c.filter=c.filter.replace(RegExp("(\\s|^)"+q),"")):(o.addClass("active"),c.filter=c.filter+" "+q)}k(c.filter,null,null,b,c)}})})},toGrid:function(){return this.each(function(){var a=this.config;"grid"!=a.layoutMode&&(a.layoutMode="grid",k(a.filter,null,null,j(this),a))})},toList:function(){return this.each(function(){var a=this.config;"list"!=a.layoutMode&&(a.layoutMode="list",k(a.filter,null,null,j(this),a))})},filter:function(a){return this.each(function(){var b=this.config;b.mixing||(j(b.filterSelector).removeClass("active"),j(b.filterSelector+'[data-filter="'+a+'"]').addClass("active"),k(a,null,null,j(this),b))})},sort:function(a){return this.each(function(){var e=this.config,f=j(this);if(!e.mixing){j(e.sortSelector).removeClass("active");if(j.isArray(a)){var c=a[0],b=a[1];j(e.sortSelector+'[data-sort="'+a[0]+'"][data-order="'+a[1]+'"]').addClass("active")}else{j(e.sortSelector+'[data-sort="'+a+'"]').addClass("active"),c=a,b="desc"}f.find(e.targetSelector).each(function(){e.startOrder.push(j(this))});k(e.filter,c,b,f,e)}})},multimix:function(a){return this.each(function(){var b=this.config,c=j(this);multiOut={filter:b.filter,sort:null,order:"desc",layoutMode:b.layoutMode};j.extend(multiOut,a);b.mixing||(j(b.filterSelector).add(b.sortSelector).removeClass("active"),j(b.filterSelector+'[data-filter="'+multiOut.filter+'"]').addClass("active"),"undefined"!==typeof multiOut.sort&&(j(b.sortSelector+'[data-sort="'+multiOut.sort+'"][data-order="'+multiOut.order+'"]').addClass("active"),c.find(b.targetSelector).each(function(){b.startOrder.push(j(this))})),b.layoutMode=multiOut.layoutMode,k(multiOut.filter,multiOut.sort,multiOut.order,c,b))})},remix:function(a){return this.each(function(){var b=this.config,c=j(this);b.origOrder=[];c.find(b.targetSelector).each(function(){var e=j(this);e.addClass("mix_all");b.origOrder.push(e)});b.mixing||"undefined"===typeof a||(j(b.filterSelector).removeClass("active"),j(b.filterSelector+'[data-filter="'+a+'"]').addClass("active"),k(a,null,null,c,b))})}};j.fn.themeWar=function(b,a){if(m[b]){return m[b].apply(this,Array.prototype.slice.call(arguments,1))}if("object"===typeof b||!b){return m.init.apply(this,arguments)}};j.fn.removeStyle=function(a){return this.each(function(){var b=j(this);a=a.replace(/\s+/g,"");var c=a.split(",");j.each(c,function(){var e=RegExp(this.toString()+"[^;]+;?","g");b.attr("style",function(f,g){if(g){return g.replace(e,"")}})})})}})(jQuery);